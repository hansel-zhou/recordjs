!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Record={})}(this,function(t){"use strict";function e(n){var r=history[n];return function(){var t=r.apply(this,arguments),e=new Event(n);return e.arguments=arguments,window.dispatchEvent(e),t}}history.pushState=e("pushState"),history.replaceState=e("replaceState");var n={recordArr:[],starttime:0,endtime:0,duration:0,width:0,height:0,events:[{id:1,event:"click",target:document.documentElement},{id:2,event:"scroll",target:window},{id:3,event:"touchstart",target:document.documentElement},{id:4,event:"touchmove",target:document.documentElement},{id:5,event:"touchend",target:document.documentElement},{id:6,event:"change",target:document.documentElement},{id:7,event:"input",target:document.documentElement},{id:8,event:"onpopstate",target:window},,{id:9,event:"pushState",target:window},{id:10,event:"replaceState",target:window}],start:function(){this.starttime=(new Date).getTime(),this.width=window.innerWidth,this.height=window.innerHeight,this.startEventListener()},stop:function(){this.endtime=(new Date).getTime(),this.duration=this.endtime-this.starttime},startEventListener:function(){var e=this;console.log(this),this.events.forEach(function(t){t.target.addEventListener(t.event,e.handler[t.event])})},generateRecord:function(){var t=(new Date).getTime();return{id:1,time:t,duration:n.starttime-t}},handler:{click:function(t){var e=a();console.log(t),s.push(e)},scroll:function(){var t=a();s.push(t)},touchstart:function(){var t=a();s.push(t)},touchmove:function(){var t=a();s.push(t)},touchend:function(){var t=a();s.push(t)},change:function(){var t=a();s.push(t)},input:function(){var t=a();s.push(t)},onpopstate:function(){var t=a();s.push(t)},pushState:function(){var t=a();s.push(t)},replaceState:function(){var t=a();s.push(t)}}},r=n.start,i=n.stop,o=n.startEventListener,a=n.generateRecord,s=n.recordArr,u=n.handler,c=n.events;t.start=r,t.stop=i,t.startEventListener=o,t.generateRecord=a,t.recordArr=s,t.handler=u,t.events=c,Object.defineProperty(t,"__esModule",{value:!0})});
